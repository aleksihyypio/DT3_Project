# //  Questa Sim-64
# //  Version 2024.3_2 linux_x86_64 Nov 25 2024
# //
# // Unpublished work. Copyright 2024 Siemens
# //
# // This material contains trade secrets or otherwise confidential information
# // owned by Siemens Industry Software Inc. or its affiliates (collectively,
# // "SISW"), or its licensors. Access to and use of this information is strictly
# // limited as set forth in the Customer's applicable agreements with SISW.
# //
# // This material may not be copied, distributed, or otherwise disclosed outside
# // of the Customer's facilities without the express written permission of SISW,
# // and may not be used in any way not expressly authorized by SISW.
# //
# do scripts/vsim_scsim.tcl
#  -DSC_GUI_SIMULATION
# -sc_arg "-run" -sc_arg "vsim_systemc"
# -all
# 10000
# QuestaSim
# 0
# 1
# transcript file ${REPORTS_DIR}/1_vsim_${DESIGN_NAME}_systemc_simulation_log.txt
# transcript sizelimit $VSIM_TRANSCRIPT_SIZE
# 
# set VSIM_DEBUGDB     ${OUTPUT_DIR}/${DESIGN_NAME}_systemc.dbg
# output/tlm_audioport_systemc.dbg
# set VSIM_DESIGNFILE  ${OUTPUT_DIR}/${DESIGN_NAME}_systemc.bin
# output/tlm_audioport_systemc.bin
# set VSIM_QWAVEDB     ${OUTPUT_DIR}/${DESIGN_NAME}_systemc.db
# output/tlm_audioport_systemc.db
# set VSIM_VOPTDIR     ${DESIGN_NAME}_systemc_vopt
# tlm_audioport_systemc_vopt
# set VSIM_WORKDIR     ${OUTPUT_DIR}/${DESIGN_NAME}_questasim_work
# output/tlm_audioport_questasim_work
# set VSIM_SCLIBDIR    ${OUTPUT_DIR}/${DESIGN_NAME}_questasim_sclib
# output/tlm_audioport_questasim_sclib
# 
# if { [info exists vsim_libs_created ] == 0 } {
#     file delete -force $VSIM_DEBUGDB
#     file delete -force $VSIM_DESIGNFILE
#     file delete -force $VSIM_QWAVEDB
#     file delete -force $VSIM_WORKDIR
#     file delete -force $VSIM_SCLIBDIR
# }
# 
# set SCCOM_SETTINGS " -g -I ${INPUT_DIR} -work $VSIM_SCLIBDIR -verbose"
#  -g -I input -work output/tlm_audioport_questasim_sclib -verbose
# set VLOG_SETTINGS " +define+design_top_is_${DESIGN_NAME} +define+DESIGN_NAME_MACRO=${DESIGN_NAME} +incdir+${INPUT_DIR} -mfcu -sv -work work"
#  +define+design_top_is_tlm_audioport +define+DESIGN_NAME_MACRO=tlm_audioport +incdir+input -mfcu -sv -work work
#set VSIM_SETTINGS " -displaymsgmode both -voptargs=+acc -classdebug -debugDB=${VSIM_DEBUGDB} -sclib ${VSIM_SCLIBDIR} -L ${VSIM_SCLIBDIR}"
# set VSIM_SETTINGS " -note 6599 -msgmode both -displaymsgmode both -classdebug -debugDB=${VSIM_DEBUGDB} -sclib ${VSIM_SCLIBDIR} -L ${VSIM_SCLIBDIR}"
#  -note 6599 -msgmode both -displaymsgmode both -classdebug -debugDB=output/tlm_audioport_systemc.dbg -sclib output/tlm_audioport_questasim_sclib -L output/tlm_audioport_questasim_sclib
# set VOPT_SETTINGS " -suppress 10587 +acc -noincr -designfile ${VSIM_DESIGNFILE} -sclib ${VSIM_SCLIBDIR} -L ${VSIM_SCLIBDIR}"
#  -suppress 10587 +acc -noincr -designfile output/tlm_audioport_systemc.bin -sclib output/tlm_audioport_questasim_sclib -L output/tlm_audioport_questasim_sclib
# 
#################################################################
# Merge user settings
#################################################################
# 
# set VLOG_SETTINGS [concat $VLOG_SYSTEMC_OPTIONS $VLOG_SETTINGS ]
# -suppress 13314 -suppress 13233 +define+RTL_SIM +define+design_top_is_tlm_audioport +define+DESIGN_NAME_MACRO=tlm_audioport +incdir+input -mfcu -sv -work work
# set VSIM_SETTINGS [concat $VSIM_SYSTEMC_OPTIONS $VSIM_SETTINGS ]
# -sc_arg "-run" -sc_arg "vsim_systemc" -note 6599 -msgmode both -displaymsgmode both -classdebug -debugDB=output/tlm_audioport_systemc.dbg -sclib output/tlm_audioport_questasim_sclib -L output/tlm_audioport_questasim_sclib
# set SCCOM_SETTINGS [concat $VSIM_SCCOM_OPTIONS $SCCOM_SETTINGS ]
# -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose
# 
#################################################################
# Create libraries
#################################################################
# 
# if { [info exists vsim_libs_created ] == 0 } {
#     vlib ${VSIM_WORKDIR}
#     vmap work ${VSIM_WORKDIR}
#     vlib ${VSIM_SCLIBDIR}
#     vmap systemc_lib ${VSIM_SCLIBDIR}
#     set vsim_libs_created 1
# }
# 1
# 
#################################################################
# Compilation
#################################################################
# 
# SystemC
# foreach filename [concat ${SYSTEMC_SOURCE_FILES} ${SYSTEMC_TESTBENCH_FILES} ] {
#     eval "sccom $SCCOM_SETTINGS ${filename}"
# }
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose input/tlm_audioport.cpp 
# Start time: 19:17:26 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# 
# -- Compiling module tlm_audioport
# Exported modules:
# 	tlm_audioport
# End time: 19:17:30 on Jan 09,2025, Elapsed time: 0:00:04
# Errors: 0, Warnings: 0
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose input/tlm_cpu.cpp 
# Start time: 19:17:30 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# 
# -- Compiling module tlm_cpu
# End time: 19:17:33 on Jan 09,2025, Elapsed time: 0:00:03
# Errors: 0, Warnings: 0
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose input/tlm_dac.cpp 
# Start time: 19:17:33 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# 
# -- Compiling module tlm_dac
# End time: 19:17:36 on Jan 09,2025, Elapsed time: 0:00:03
# Errors: 0, Warnings: 0
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose input/tlm_scoreboard.cpp 
# Start time: 19:17:36 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# 
# -- Compiling module tlm_scoreboard
# End time: 19:17:38 on Jan 09,2025, Elapsed time: 0:00:02
# Errors: 0, Warnings: 0
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose input/tlm_sc_main.cpp 
# Start time: 19:17:38 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# 
# -- Compiling module tlm_audioport
# -- Compiling module tlm_cpu
# -- Compiling module tlm_dac
# -- Compiling module tlm_scoreboard
# -- Compiling module tlm_top
# Exported modules:
# 	sc_main
# End time: 19:17:43 on Jan 09,2025, Elapsed time: 0:00:05
# Errors: 0, Warnings: 0
# eval "sccom ${SCCOM_SETTINGS} -link"
# sccom -reportprogress -DSC_DISABLE_VIRTUAL_BIND -g -I input -work output/tlm_audioport_questasim_sclib -verbose -link 
# Start time: 19:17:43 on Jan 09,2025
# 
# QuestaSim-64 sccom 2024.3_2 compiler 2024.11 Nov 25 2024
# End time: 19:17:46 on Jan 09,2025, Elapsed time: 0:00:03
# Errors: 0, Warnings: 0
# 
#################################################################
# Optimization
#################################################################
# 
# eval "vopt $VOPT_SETTINGS systemc_lib.sc_main -o ${VSIM_VOPTDIR}"
# QuestaSim-64 vopt 2024.3_2 Compiler 2024.11 Nov 25 2024
# Start time: 19:17:46 on Jan 09,2025
# vopt -reportprogress 300 -suppress 10587 "+acc" -noincr -designfile output/tlm_audioport_systemc.bin -sclib output/tlm_audioport_questasim_sclib -L output/tlm_audioport_questasim_sclib systemc_lib.sc_main -o tlm_audioport_systemc_vopt 
# 
# Top level modules:
# 	sc_main
# 
# Analyzing design...
# -- Loading shared library /study/2025/521406S/personal/ahyypio20/DT3_2025/project/workdir/output/tlm_audioport_questasim_sclib/_sc/linux_x86_64_gcc-10.3.0/systemc.so
# -- Loading systemc module /study/2025/521406S/personal/ahyypio20/DT3_2025/project/workdir/output/tlm_audioport_questasim_sclib.sc_main
# Optimizing 0 design-units (inlining 0/6 systemc instances):
# viscom:
# VISCOM: Start time: 19:17:47 on Jan 09,2025
# 
# VISCOM: QuestaSim /sw/rhel8/siemens/questa_sim-2024.3_2/questasim/linux_x86_64/VisualizerRls/bin/viscom 2024.3_2 at 2024.11 Nov 25 2024
# VISCOM: Writing output/tlm_audioport_systemc.bin
# VISCOM: Warning: SystemC Port sc_main.tlm_top_inst.tlm_cpu_inst/socket is of an undebuggable type.
# VISCOM: Warning: SystemC Port sc_main.tlm_top_inst.tlm_audioport_inst/socket_port_0 is of an undebuggable type.
# VISCOM: Warning: SystemC Port sc_main.tlm_top_inst.tlm_cpu_inst/socket_export_0 is of an undebuggable type.
# VISCOM: Warning: SystemC Port sc_main.tlm_top_inst.tlm_audioport_inst/socket is of an undebuggable type.
# VISCOM: Done writing output/tlm_audioport_systemc.bin
# VISCOM: End time: 19:17:47 on Jan 09,2025, Elapsed time: 0:00:00 (Process Size : 367MB, Peak Process Size : 410MB)
# 
# 
# Optimized design name is tlm_audioport_systemc_vopt
# End time: 19:17:47 on Jan 09,2025, Elapsed time: 0:00:01
# Errors: 0, Warnings: 0, Suppressed Warnings: 1
# 
#################################################################
# Simulation (elaboration)
#################################################################
# 
# eval "vsim ${VSIM_VOPTDIR} ${VSIM_SETTINGS}"
# vsim tlm_audioport_systemc_vopt -sc_arg "-run" -sc_arg "vsim_systemc" -note 6599 -msgmode both -displaymsgmode both -classdebug -debugDB=output/tlm_audioport_systemc.dbg -sclib output/tlm_audioport_questasim_sclib -L output/tlm_audioport_questasim_sclib 
# Start time: 19:17:47 on Jan 09,2025
# Loading /study/2025/521406S/personal/ahyypio20/DT3_2025/project/workdir/output/tlm_audioport_questasim_sclib/_sc/linux_x86_64_gcc-10.3.0/systemc.so
# Loading /study/2025/521406S/personal/ahyypio20/DT3_2025/project/workdir/output/tlm_audioport_questasim_sclib.sc_main
# Simulation output is saved to file output/tlm_audioport_vsim_systemc_out.txt
# ** Warning: (vsim-4025) The port '/sc_main/tlm_top_inst/tlm_audioport_inst/socket_port_0' is of an undebuggable type.
# ** Warning: (vsim-4025) The export '/sc_main/tlm_top_inst/tlm_cpu_inst/socket_export_0' is of an undebuggable type.
# ** Note: (vsim-8900) Creating design debug database output/tlm_audioport_systemc.dbg.
# It appears vopt was not run with -debugdb option on this design.
# Advanced Causality and Schematic debug features will not be available.
#eval "vsim $VSIM_SETTINGS  systemc_lib.sc_main"
# 
#################################################################
# Setup Wave window
#################################################################
# 
# run 0 
# ** Note (downgraded): (vsim-6599) T1: Program filter
# 
# if [batch_mode] {
#     onfinish stop
# } else {
#     log -r /*
#     if { [info exists VSIM_SC_WAVES ] == 1 } {
# 	source $VSIM_SC_WAVES
#     } else {
# 	add wave -r sim:/sc_main/*
# 	configure wave -signalnamewidth 1
# 	configure wave -datasetprefix 0
#     }
# }
# 
#################################################################
# Simulation (run)
#################################################################
# 
# run $SYSTEMC_SIMULATION_TIME
# ** Note (downgraded): (vsim-6599) T2: Fill FIFOs
# ** Note: (vsim-17423) SystemC IEEE 1666 deprecated warnings are suppressed by default. Enable the 'ScShowIeeeDeprecationWarnings' modelsim.ini variable to get more information about the suppressed warnings.
# ** Note (downgraded): (vsim-6599) T3 Set Level
# ** Note (downgraded): (vsim-6599) T4 Configure
# ** Note (downgraded): (vsim-6599) T5.1: Filter OFF
# ** Note (downgraded): (vsim-6599) T5.2: Filter ON
# ** Note (downgraded): (vsim-6599) T5.3: Filter OFF, level scaling
# ** Note: (vsim-6574) SystemC simulation stopped by user.
# 1
# 
# 
#################################################################
# Post-simulation reporting
#################################################################
# 
# if [batch_mode] {
#     exit
# } else {
#     wave zoom full
# }
# 0 ps
# 8056581284 ps
# 
# A time value could not be extracted from the current line
T5
# ambiguous command name "T5": T5_1 T5_2 T5_3 T5_4 T5_5
T5_1
# {12350 ns} {2072055 ns}
T5_2
# {2072050 ns} {4131810 ns}
T5_3
# {4131800 ns} {6191500 ns}
T5_4
# {6191450 ns} {8251350 ns}
T5_5
# {8251330 ns} {10311170 ns}
T5_2
# {2072050 ns} {4131810 ns}
find drivers -source -time {7672934.556 ns} -cause sim:/sc_main/tlm_top_inst/tlm_audioport_inst/play_mode
find drivers -source -time {7672934.556 ns} -cause sim:/sc_main/tlm_top_inst/tlm_audioport_inst/tlm_data
find drivers -source -time {7672934.556 ns} -cause sim:/sc_main/tlm_top_inst/tlm_audioport_inst/req
find drivers -source -time {2564488.179 ns} -cause sim:/sc_main/tlm_top_inst/tlm_audioport_inst/req
quit
# =================================================================
# REGISTER BANK CONTENTS
# =================================================================
# REG #     DECIMAL         HEX                                 BIN
#     0           1 0x000000001 0b000000000000000000000000000000001
#     1           0 0x000000000 0b000000000000000000000000000000000
#     2  1073750016 0x040002000 0b001000000000000000010000000000000
#     3           0 0x000000000 0b000000000000000000000000000000000
#     4     7726722 0x00075e682 0b000000000011101011110011010000010
#     5  4281295991 0x0ff2f6477 0b011111111001011110110010001110111
#     6     8370616 0x0007fb9b8 0b000000000011111111011100110111000
#     7     4592027 0x00046119b 0b000000000010001100001000110011011
#     8  4280192087 0x0ff1e8c57 0b011111111000111101000110001010111
#     9    13167045 0x000c8e9c5 0b000000000110010001110100111000101
#    10           0 0x000000000 0b000000000000000000000000000000000
#    11  4280414246 0x0ff21f026 0b011111111001000011111000000100110
#    12    18058589 0x001138d5d 0b000000001000100111000110101011101
#    13  4288754553 0x0ffa13379 0b011111111101000010011001101111001
#    14  4282411372 0x0ff40696c 0b011111111010000000110100101101100
#    15    22785509 0x0015bade5 0b000000001010110111010110111100101
#    16  4280617668 0x0ff250ac4 0b011111111001001010000101011000100
#    17  4286842939 0x0ff84083b 0b011111111100001000000100000111011
#    18    27087883 0x0019d540b 0b000000001100111010101010000001011
#    19  4269830209 0x0fe807041 0b011111110100000000111000001000001
#    20           0 0x000000000 0b000000000000000000000000000000000
#    21    30723106 0x001d4cc22 0b000000001110101001100110000100010
#    22  4254335471 0x0fd9401ef 0b011111101100101000000000111101111
#    23    15088091 0x000e639db 0b000000000111001100011100111011011
#    24    33482465 0x001fee6e1 0b000000001111111101110011011100001
#    25  4226610769 0x0fbecf651 0b011111011111011001111011001010001
#    26    50223698 0x002fe5a52 0b000000010111111100101101001010010
#    27    35205547 0x0021931ab 0b000000010000110010011000110101011
#    28  4132439994 0x0f65007ba 0b011110110010100000000011110111010
#    29   276507962 0x0107b2d3a 0b000010000011110110010110100111010
#    30  1073741823 0x03fffffff 0b000111111111111111111111111111111
#    31   276507962 0x0107b2d3a 0b000010000011110110010110100111010
#    32  4132439994 0x0f65007ba 0b011110110010100000000011110111010
#    33    35205547 0x0021931ab 0b000000010000110010011000110101011
#    34    50223698 0x002fe5a52 0b000000010111111100101101001010010
#    35  4226610769 0x0fbecf651 0b011111011111011001111011001010001
#    36    33482465 0x001fee6e1 0b000000001111111101110011011100001
#    37    15088091 0x000e639db 0b000000000111001100011100111011011
#    38  4254335471 0x0fd9401ef 0b011111101100101000000000111101111
#    39    30723106 0x001d4cc22 0b000000001110101001100110000100010
#    40           0 0x000000000 0b000000000000000000000000000000000
#    41  4269830209 0x0fe807041 0b011111110100000000111000001000001
#    42    27087883 0x0019d540b 0b000000001100111010101010000001011
#    43  4286842939 0x0ff84083b 0b011111111100001000000100000111011
#    44  4280617668 0x0ff250ac4 0b011111111001001010000101011000100
#    45    22785509 0x0015bade5 0b000000001010110111010110111100101
#    46  4282411372 0x0ff40696c 0b011111111010000000110100101101100
#    47  4288754553 0x0ffa13379 0b011111111101000010011001101111001
#    48    18058589 0x001138d5d 0b000000001000100111000110101011101
#    49  4280414246 0x0ff21f026 0b011111111001000011111000000100110
#    50           0 0x000000000 0b000000000000000000000000000000000
#    51    13167045 0x000c8e9c5 0b000000000110010001110100111000101
#    52  4280192087 0x0ff1e8c57 0b011111111000111101000110001010111
#    53     4592027 0x00046119b 0b000000000010001100001000110011011
#    54     8370616 0x0007fb9b8 0b000000000011111111011100110111000
#    55  4281295991 0x0ff2f6477 0b011111111001011110110010001110111
#    56     7726722 0x00075e682 0b000000000011101011110011010000010
#    57           0 0x000000000 0b000000000000000000000000000000000
#    58    13671305 0x000d09b89 0b000000000110100001001101110001001
#    59           0 0x000000000 0b000000000000000000000000000000000
#    60  4280107182 0x0ff1d40ae 0b011111111000111010100000010101110
#    61           0 0x000000000 0b000000000000000000000000000000000
#    62    16275363 0x000f857a3 0b000000000111110000101011110100011
#    63           0 0x000000000 0b000000000000000000000000000000000
#    64  4276978737 0x0feed8431 0b011111110111011011000010000110001
#    65           0 0x000000000 0b000000000000000000000000000000000
#    66    20104861 0x00132c69d 0b000000001001100101100011010011101
#    67           0 0x000000000 0b000000000000000000000000000000000
#    68  4272181787 0x0fea4521b 0b011111110101001000101001000011011
#    69           0 0x000000000 0b000000000000000000000000000000000
#    70    26290972 0x001912b1c 0b000000001100100010010101100011100
#    71           0 0x000000000 0b000000000000000000000000000000000
#    72  4263896148 0x0fe25e454 0b011111110001001011110010001010100
#    73           0 0x000000000 0b000000000000000000000000000000000
#    74    37975848 0x002437728 0b000000010010000110111011100101000
#    75           0 0x000000000 0b000000000000000000000000000000000
#    76  4246141205 0x0fd16f915 0b011111101000101101111100100010101
#    77           0 0x000000000 0b000000000000000000000000000000000
#    78    68356527 0x0041309af 0b000000100000100110000100110101111
#    79           0 0x000000000 0b000000000000000000000000000000000
#    80  4181039751 0x0f9359a87 0b011111001001101011001101010000111
#    81           0 0x000000000 0b000000000000000000000000000000000
#    82   341782637 0x0145f306d 0b000010100010111110011000001101101
#    83  1073741823 0x03fffffff 0b000111111111111111111111111111111
#    84   341782637 0x0145f306d 0b000010100010111110011000001101101
#    85           0 0x000000000 0b000000000000000000000000000000000
#    86  4181039751 0x0f9359a87 0b011111001001101011001101010000111
#    87           0 0x000000000 0b000000000000000000000000000000000
#    88    68356527 0x0041309af 0b000000100000100110000100110101111
#    89           0 0x000000000 0b000000000000000000000000000000000
#    90  4246141205 0x0fd16f915 0b011111101000101101111100100010101
#    91           0 0x000000000 0b000000000000000000000000000000000
#    92    37975848 0x002437728 0b000000010010000110111011100101000
#    93           0 0x000000000 0b000000000000000000000000000000000
#    94  4263896148 0x0fe25e454 0b011111110001001011110010001010100
#    95           0 0x000000000 0b000000000000000000000000000000000
#    96    26290972 0x001912b1c 0b000000001100100010010101100011100
#    97           0 0x000000000 0b000000000000000000000000000000000
#    98  4272181787 0x0fea4521b 0b011111110101001000101001000011011
#    99           0 0x000000000 0b000000000000000000000000000000000
#   100    20104861 0x00132c69d 0b000000001001100101100011010011101
#   101           0 0x000000000 0b000000000000000000000000000000000
#   102  4276978737 0x0feed8431 0b011111110111011011000010000110001
#   103           0 0x000000000 0b000000000000000000000000000000000
#   104    16275363 0x000f857a3 0b000000000111110000101011110100011
#   105           0 0x000000000 0b000000000000000000000000000000000
#   106  4280107182 0x0ff1d40ae 0b011111111000111010100000010101110
#   107           0 0x000000000 0b000000000000000000000000000000000
#   108    13671305 0x000d09b89 0b000000000110100001001101110001001
#   109           0 0x000000000 0b000000000000000000000000000000000
#   110           0 0x000000000 0b000000000000000000000000000000000
# SIMULATION STOPPED AT TIME = 7672934556 ps
# End time: 20:48:48 on Jan 09,2025, Elapsed time: 1:31:01
# Errors: 0, Warnings: 2, Suppressed Warnings: 1
